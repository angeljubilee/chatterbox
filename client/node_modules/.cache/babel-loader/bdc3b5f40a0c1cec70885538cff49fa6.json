{"ast":null,"code":"import io from \"socket.io-client\";\nimport store from \"./store\";\nimport { setNewMessage, removeOfflineUser, addOnlineUser } from \"./store/conversations\";\nconst socket = io(window.location.origin);\nsocket.on(\"connect\", () => {\n  console.log(\"connected to server\");\n  socket.on(\"add-online-user\", id => {\n    store.dispatch(addOnlineUser(id));\n  });\n  socket.on(\"remove-offline-user\", id => {\n    store.dispatch(removeOfflineUser(id));\n  });\n  socket.on(\"new-message\", data => {\n    store.dispatch(setNewMessage(data.message, data.sender));\n  });\n});\nexport default socket;","map":{"version":3,"sources":["/home/angel/repos/messenger-3457/client/src/socket.js"],"names":["io","store","setNewMessage","removeOfflineUser","addOnlineUser","socket","window","location","origin","on","console","log","id","dispatch","data","message","sender"],"mappings":"AAAA,OAAOA,EAAP,MAAe,kBAAf;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SACEC,aADF,EAEEC,iBAFF,EAGEC,aAHF,QAIO,uBAJP;AAMA,MAAMC,MAAM,GAAGL,EAAE,CAACM,MAAM,CAACC,QAAP,CAAgBC,MAAjB,CAAjB;AAEAH,MAAM,CAACI,EAAP,CAAU,SAAV,EAAqB,MAAM;AACzBC,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AAEAN,EAAAA,MAAM,CAACI,EAAP,CAAU,iBAAV,EAA8BG,EAAD,IAAQ;AACnCX,IAAAA,KAAK,CAACY,QAAN,CAAeT,aAAa,CAACQ,EAAD,CAA5B;AACD,GAFD;AAIAP,EAAAA,MAAM,CAACI,EAAP,CAAU,qBAAV,EAAkCG,EAAD,IAAQ;AACvCX,IAAAA,KAAK,CAACY,QAAN,CAAeV,iBAAiB,CAACS,EAAD,CAAhC;AACD,GAFD;AAGAP,EAAAA,MAAM,CAACI,EAAP,CAAU,aAAV,EAA0BK,IAAD,IAAU;AACjCb,IAAAA,KAAK,CAACY,QAAN,CAAeX,aAAa,CAACY,IAAI,CAACC,OAAN,EAAeD,IAAI,CAACE,MAApB,CAA5B;AACD,GAFD;AAGD,CAbD;AAeA,eAAeX,MAAf","sourcesContent":["import io from \"socket.io-client\";\nimport store from \"./store\";\nimport {\n  setNewMessage,\n  removeOfflineUser,\n  addOnlineUser,\n} from \"./store/conversations\";\n\nconst socket = io(window.location.origin);\n\nsocket.on(\"connect\", () => {\n  console.log(\"connected to server\");\n\n  socket.on(\"add-online-user\", (id) => {\n    store.dispatch(addOnlineUser(id));\n  });\n\n  socket.on(\"remove-offline-user\", (id) => {\n    store.dispatch(removeOfflineUser(id));\n  });\n  socket.on(\"new-message\", (data) => {\n    store.dispatch(setNewMessage(data.message, data.sender));\n  });\n});\n\nexport default socket;\n"]},"metadata":{},"sourceType":"module"}